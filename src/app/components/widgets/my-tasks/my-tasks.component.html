<div class="tasks-container">
    <div class="tasks-header">
      <button (click)="setView('my')" [ngClass]="{ active: view === 'my' }">My Tasks ({{ taskCounts['personal'] || 0 }})</button>
      <button (click)="setView('friends')" [ngClass]="{ active: view === 'friends' }">Friends' Tasks ({{ taskCounts['friends'] || 0 }})</button>
      <button (click)="setView('all')" [ngClass]="{ active: view === 'all' }">All Tasks ({{ taskCounts['personal'] + taskCounts['friends'] || 0 }})</button>
      <button (click)="setView('completed')" [ngClass]="{ active: view === 'completed' }">Completed ({{ taskCounts['completed'] || 0 }})</button>
    </div>
    <div class="tasks-list">
      <div *ngFor="let task of filteredTasks" class="task-item">
        <span>{{ task.title }}</span>
        <div class="task-actions">
          <button (click)="toggleTaskCompletion(task)" class="complete-btn">{{ task.completed ? 'Undo' : 'Complete' }}</button>
          <button (click)="deleteTask(task)" class="delete-btn">Delete</button>
        </div>
      </div>
    </div>
    <div class="add-task">
      <input [(ngModel)]="newTask.title" placeholder="Task Title" />
      <input [(ngModel)]="newTask.date" type="date" />
      <select [(ngModel)]="newTask.type">
        <option value="personal">Personal</option>
        <option value="friends">Friends</option>
      </select>
      <button (click)="addTask()">Add Task</button>
    </div>
  </div>